name: Build

inputs:
  debug:
    description: Sets "NODE_ENV" to "debug".
    required: false
    default: false

runs:
  using: composite

  steps:
    - uses: actions/checkout@v4.1.0

    - name: TODO
      env:
        NODE_ENV: |
          contains(inputs.debug, 'true') &&
          'debug'
      run: echo Debug mode is $NODE_ENV jau.
      shell: bash

    # Runs a set of commands using the runners shell

    #- name: Install yarn
    #  run: npm install --global yarn
    #  shell: bash

    - name: Disable node version check
      run: yarn config set ignore-engines true
      shell: bash

    - name: Install packages marked as dependencies
      env:
        NODE_ENV: |
          contains(inputs.debug, 'true') &&
          'debug'
      run: yarn
      shell: bash
